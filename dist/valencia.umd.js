!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.valencia=n()}(this,function(){let e=0;var n=(n,t={})=>{const o=`__c${e++}`,r=`${t.param||"callback"}=${o}`,i=t.timeout||6e4,u=t.response?t.response:(e,n)=>console.log(e,n),c=document.createElement("script"),s=i?setTimeout(function(){a(),u(new Error("Timeout"))},i):null,a=()=>{document.head.removeChild(c),window[o]=(()=>{}),s&&clearTimeout(s)};return window[o]=(e=>{u(null,e),a()}),c.src=`${n}&${r}`,document.head.appendChild(c),()=>window[o]?a():null};return function(e,t){var o=e.token;void 0===t&&(t=function(){});var r={images:[],next:function(){return console.log("Awaiting response...")},res:{}},i=function(e,n){return e?console.log(e):(r.images=n.data,r.next=u(n.pagination.next_url),r.res=n,{images:r.images,next:r.next,res:n})},u=function(e){return function(n){return c(e,function(e,o){return n?n(i(e,o)):t(i(e,o))})}},c=function(e,t){return n(e,{response:t})};return o&&c("https://api.instagram.com/v1/users/self/media/recent/?access_token="+o+"&count="+(e.count||1),function(e,n){return t(i(e,n))}),r}});
//# sourceMappingURL=valencia.umd.js.map
